inputs:

  dataLabel:
    description: Data labels to be added
    prompt: Data label (JSON)
    options:
      - '["0", "1"]'
      - '["2", "3"]'
      - '["4", "5"]'
      - '["6", "7"]'
      - '["8", "9"]'
      - '["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]'

tasks:

  addData:
    extend: core.runShellScript
    inputs:
      - dataLabel
    config:
      dataLabel: '{{ .GetValue "dataLabel" }}'
      start: |
        curl -X 'POST' \
          'http://localhost:3000/generate' \
          -H 'accept: application/json' \
          -H 'Content-Type: application/json' \
          -d '{
          "datetime": "",
          "count_per_label": 100,
          "labels": {{ .GetConfig "dataLabel" }}
        }'

  runMlopsScript:
    private: true
    extend: core.runShellScript
    location: ../bash

  predict0:
    extend: runMlopsScript
    config:
      start: ./predict0.sh

  predict1:
    extend: runMlopsScript
    config:
      start: ./predict1.sh

  predict2:
    extend: runMlopsScript
    config:
      start: ./predict2.sh
